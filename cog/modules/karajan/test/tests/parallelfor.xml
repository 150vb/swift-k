<karajan>
	<map>
		<map:entry key="name" value="parallel for"/>
		<map:entry key="test">
			<element arguments="">
				<set name="r">
					<range from="0" to="6"/>
				</set>
				<list>
					<sum>
						<parallelfor name="i" in="{r}">
							<number>1</number>
							<number>1</number>
						</parallelfor>
					</sum>
					
					<sum>
						<parallelfor name="i">
							<range from="0" to="7"/>	
						
							<number>1</number>
							<number>1</number>
						</parallelfor>
					</sum>
					
					<sum>
						<parallelfor>
							<variable>i</variable>
							<range from="0" to="8"/>	
						
							<number>1</number>
							<number>1</number>
						</parallelfor>
					</sum>
					
					<choice>
						<sequential>
							<parallelfor name="i">
								<range from="0" to="10"/>
								
								<if>
									<equals>
										<variable>i</variable>
										<number>5</number>
									</equals>

									<then>
										<generateError message="Kaboom"/>
									</then>
								</if>
							</parallelfor>
						
							<string>No failure</string>
						</sequential>
						
						<string>Yes failure</string>
					</choice>
					
					
				</list>
			</element>
		</map:entry>
		<map:entry key="expected-result">
			<list>
				<number>14</number>
				<number>16</number>
				<number>18</number>
				<string>Yes failure</string>
			</list>
		</map:entry>
	</map>
</karajan>