<project>
	<import file="sys.xml"/>
	<import file="task.xml"/>
	<import file="vdl-lib.xml"/>
	<import file="vdl-sc.k"/>
	
	<set names="sites, tcfile, clusteringEnabled, clusteringQueueDelay, clusteringMinTime">
		<vdl:configProperty name="sites.file"/>
		<vdl:configProperty name="tc.file"/>
		<vdl:configProperty name="clustering.enabled"/>
		<vdl:configProperty name="clustering.queue.delay"/>
		<vdl:configProperty name="clustering.min.time"/>
	</set>
	
	<print message="Using sites file: {sites}"/>
	<print message="Using tc.data: {tcfile}"/>
  
	<scheduler type="vds-adaptive" shareID="vdl2:scheduler:{sites}">
		<property name="transformationCatalogFile" value="{tcfile}"/>
		<property name="clusteringEnabled" value="{clusteringEnabled}"/>
		<property name="clusteringQueueDelay" value="{clusteringQueueDelay}"/>
		<property name="clusteringMinTime" value="{clusteringMinTime}"/>
		
		<property name="hostSubmitThrottle" value="2"/>
		<property name="submitThrottle" value="4"/>
		<property name="jobsPerCpu" value="10"/>
		<property name="maxTransfers" value="8"/>
		
		<task:handler type="execution" provider="gt2"/>
		<task:handler type="execution" provider="gt4"/>
		<task:handler type="execution" provider="local"/>
		<task:handler type="file" provider="gsiftp"/>
		<task:handler type="file" provider="local"/>
		
		<vdl:siteCatalog file="{sites}"/>
	</scheduler>
</project>
