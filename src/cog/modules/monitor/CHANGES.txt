This directory will hold the source code related to 

GUSS - Grid Ussage Sensor Service

and

to the time monitoring service for job submissions to monitor the functionality. More monitoring components may be included here in future. 


These monitoring components could be reused as part of your prodcution Grids.

Gregor



Oct 25, 2004:
-- Build.xml now creates GUSSService.jar and GUSSClient.jar for easier deployment/undeployment.
-- Added portlet-build.xml and GUSSPortlet.xreg to deploy a JSPPortlet-based GUSSPortlet to nmi portal.
-- Wrote README.txt with installation instructions.
-- GUSS Whole-grid-summary mode now works.

Oct 26, 2004:
-- Basic histogram-plotting mode now works.

Oct 28, 2004:
-- GUSS now reads real logfile format (generated by gridftp server with -z).
-- Can produce histograms of four quantities, not just transfer volume
-- Can produce histograms with various time granularities
-- Can produce histograms of single source-destination pairs, or all pairs
seperately, or totals.
-- Am abandoning OGCE's jetspeed/nmi portal to focus on jsp

Oct 29, 2004:
-- Service now gets location of logfiles and other info by reading
guss.properties.
-- Can produce tables (in addition to histograms) with any of four quantities

Nov 2, 2004:
-- README updated and expanded with coverage of installation process.
-- Client now gets location of server by reading guss.properties.
-- Table can be displayed with any of four quantities
-- JSP page interface has been updated to match features.

Nov 3, 2004:
-- Updates to readme and build.xml for portability

Nov 4, 2004:
-- JSP pages makes a list of check boxes corresponding to hosts; displays one
line for each source-dest pair.
-- New mode for displaying average throughput

Nov 5, 2004:
-- Now throws out any transfer record in logfile that for which the time
elapsed is zero or negative, when calculating average throughput.
-- No longer draws lines between data points; they were misleading as the
value between the points should be zero in most cases.
-- Reads multiple logfiles and combines data from all

Nov 8, 2004:
-- Now correctly puts all data into chronological order even if not recieved
in chronological order (i.e. if reading from multiple logfiles)
-- "Show Totals" check box on JSP works
-- When calculating average throughput, now throws out transfers that took
under one second.  (because logfiles are not adequately precise).

Nov 9, 2004:
-- Two more quantities are plottable: average file size, and average time for
a transfer.
-- Added some explanatory text to JSPs.

Nov 11, 2004:
-- Now calculates standard deviations for any quantity that is an average
-- Made build.xml automatically control Tomcat for easier deployment

Nov 12, 2004:
-- Plots standard deviations with "candlestick" graphs.

Nov 18, 2004:
-- Added Filter class and subclasses
-- Made MakeGraphImage return an HTML client-side imagemap along with the
image URL

Nov 23, 2004:
-- Started adding JUnit tests

Dec 2, 2004:
-- Finished adding JavaDoc comments to all methods

Dec 15, 2004:
<<<<<<< CHANGES.txt
-- Added build targets to make GussPortlet and deploy it to uPortal.

(and then a whole lot of not updating this file)

Mar 26, 2005:
--Added a caching system for image files: if a request comes in that matches an
existing image, the service re-sends that image's URL instead of recreating it.

Mar 28, 2005:
--Added new SQL-based makeTable and getAllHostNames methods to web service
interface.
=======
-- Added build targets to make GussPortlet and deploy it to uPortal.

Feb 11, 2005:
-- Now uses same database schema for both logfiles and packets; added many tests and logfile-to-database methods.
-- Refactored much of GUSSImpl.java into LogfileManager.java
-- Added JUnit tests for LogfileManager, GFTPRecord.

Mar 17, 2005:
--Created an alternate Swing client for web service (ant run-swing)
--Refactored much of GUSSImpl.java into Summarizer.java and ChartMaker.java, removed many obsolete methods.

Mar 21, 2005:
--Moved to connection-pooling for database connection; new OneConnectionPool singleton class.
--Added JUnit suites for Summarizer, GUSSImpl, and added tests for existing suites

Mar 22, 2005:
--Numerous small bug-fixes, better exception-handling and error reporting
--Started summarizing MCS and non-MCS packets separately

Mar 23, 2005:
--Limited number of summaries returned in each query, in GUSSImpl.timeSeriesFromSummaryTable, to avoid out-of-memory error.
--Fixed many bugs in the handling of start/end dates, in resolving URLs, and in summarizing database.

Mar 24, 2005:
--The new version of the portlet works.
--build file fixes
--created database-tool for pre-summarizing
--isi.edu packets are now counted separately

Mar 26, 2005:
--Added a caching system for image files: if a request comes in that matches an
existing image, the service re-sends that image's URL instead of recreating it.

Mar 28, 2005:
--Added new SQL-based makeTable and getAllHostNames methods to web service
interface.
--Removed X-windows dependency and sensitivity to duplicate summary records

Mar 29, 2005:
--Running "ant database-report" now prints a whole-database summary of packets for each host.  This is meant for internal diagnosis only and should not be published.
--Running "ant pre-summarize-database" with -DsummaryTime={day|hour|week} now does a batch-mode summary of usage by the given granularity; this is meant to be run as a cronjob.
--For easier deployment, put all needed jars into lib/jars and modified guss.properties.sample

Mar 30, 2005:
--Uses candlestick plot to show standard dev. for plots of averages
--Display bug fixes

Mar 31, 2005:
--No longer attempts to run summarization in response to client requests: this takes much too long.  It now leaves summarization to the cronjobs, and if the summaries of the latest data are not ready yet, the client will display what's available with a disclaimer.  This prevents seeing portlet timeouts during times of heavy traffic.
--isi.edu and msc.anl.gov hosts are now added together and drawn as "Globus".
--Put a current-as-of date on the portlet to show how fresh or stale the graph isn

Apr 1, 2005:
--Added numerical-summary-table option to portlet interface.


