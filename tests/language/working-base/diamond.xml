<program xmlns="http://www.griphyn.org/2006/08/vdl"
         xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <types>
    <xs:schema xmlns="http://www.griphyn.org/2006/08/vdl" targetNamespace="http://www.griphyn.org/2006/08/vdl">
     <xs:simpleType name="file">
       <xs:restriction base="xs:string"/>
     </xs:simpleType>
    </xs:schema>
  </types>
  <procedure name="generate">
    <output name="f" type="file"/>
    <input name="p1" type="float"/>
    <binding type="app">
      <application>
        <executable>generate</executable>
        <argument>&quot;-aTOP -T4&quot;</argument>
        <argument>&quot;-p&quot;</argument>
        <argument>p1</argument>
        <argument>&quot;-o&quot;</argument>
        <argument><function name="filename">f</function></argument>
      </application>
    </binding>
  </procedure>
  <procedure name="process">
    <output name="f2" type="file"/>
    <input name="f1" type="file"/>
    <input name="name" type="string"/>
    <input name="p2" type="float"/>
    <binding type="app">
      <application>
        <executable>process</executable>
        <argument>&quot;-a&quot;</argument>
        <argument>name</argument>
        <argument>&quot;-T4&quot;</argument>
        <argument>&quot;-p&quot;</argument>
        <argument>p2</argument>
        <argument>&quot;-i&quot;</argument>
        <argument><function name="filename">f1</function></argument>
        <argument>&quot;-o&quot;</argument>
        <argument><function name="filename">f2</function></argument>
      </application>
    </binding>
  </procedure>
  <procedure name="combine">
    <output name="f3" type="file"/>
    <input name="f1" type="file"/>
    <input name="f2" type="file"/>
    <binding type="app">
      <application>
        <executable>combine</executable>
        <argument>&quot;-aBOTTOM -T4&quot;</argument>
        <argument>&quot;-i&quot;</argument>
        <argument><function name="filename">f1</function></argument>
        <argument><function name="filename">f2</function></argument>
        <argument>&quot;-o&quot;</argument>
        <argument><function name="filename">f3</function></argument>
      </application>
    </binding>
  </procedure>
  <procedure name="diamond">
    <output name="fd" type="file"/>
    <input name="p1" type="float"/>
    <input name="p2" type="float"/>
    <variable name="fa" type="file"/>
    <variable name="fb" type="file"/>
    <variable name="fc" type="file"/>
    <call proc="generate">
      <output>fa</output>
      <input>p1</input>
    </call>
    <call proc="process">
      <output>fb</output>
      <input>fa</input>
      <input>&quot;LEFT&quot;</input>
      <input>p2</input>
    </call>
    <call proc="process">
      <output>fc</output>
      <input>fa</input>
      <input>&quot;RIGHT&quot;</input>
      <input>p2</input>
    </call>
    <call proc="combine">
      <output>fd</output>
      <input>fb</input>
      <input>fc</input>
    </call>
  </procedure>
  <dataset name="final" type="file">
    <file name="FINAL"/>
  </dataset>
  <call proc="diamond">
    <output>final</output>
    <input>1</input>
    <input>100</input>
  </call>
</program>
