<project><!-- CACHE ID b490ad36-6c0a-4abc-9392-c781a8049b8e-no-provenance -->
  <import file="sys.xml"/>
  <import file="scheduler.xml"/>
  <import file="rlog.xml"/>
  <import file="vdl.k"/>
  <global name="swift#string#17001">
    <vdl:new type="string" value="Results_tree[%i][%i] : %i\n" />
  </global>
  <global name="swift#string#17000">
    <vdl:new type="string" value="depth = %i \n" />
  </global>
  <global name="swift#int#0">
    <vdl:new type="int" value="0" />
  </global>
  <global name="swift#int#1">
    <vdl:new type="int" value="1" />
  </global>
  <global name="swift#int#2">
    <vdl:new type="int" value="2" />
  </global>
  <global name="swift#int#15">
    <vdl:new type="int" value="15" />
  </global>
  <element name="combine" arguments="res,a,b" _defline="7">
     
     
     
    <unitStart name="combine" type="COMPOUND" outputs="res"/>
    <setWaitCount var="{res}" count="1"/>
    <sequentialWithID>
        <sequential>
             <vdl:setfieldvalue _traceline="10">
                 <variable>res</variable>
                 <vdlop:sum>
                   <variable>a</variable>
                   <variable>b</variable>
                 </vdlop:sum>
             </vdl:setfieldvalue>
             <partialCloseDataset var="{res}"/>
        </sequential>
    </sequentialWithID>
    <vdl:closedataset var="{res}"/>

    <unitEnd name="combine" type="COMPOUND"/>
  </element>

  <set name="N">
        <vdl:new type="int" dbgname="N" waitCount="1" _defline="2"/>
  </set>
   
  <set name="tree_results">
    <vdl:new type="int[][]" dbgname="tree_results" waitCount="2" _defline="4">
      <vdl:mapping descriptor="concurrent_mapper">
        <vdl:parameter name="prefix">tree_results-c0c07549-63e1-4244-a60a-42f6755353fc</vdl:parameter>
      </vdl:mapping>
    </vdl:new>
  </set>
   
  <set name="depth">
        <vdl:new type="int" dbgname="depth" waitCount="1" _defline="19"/>
  </set>
   
  <set name="dep">
        <vdl:new type="int" dbgname="dep" waitCount="1" _defline="32"/>
  </set>
   
  <restartLog>
  	<vdl:mains>
		<vdl:startprogressticker />
		<vdl:mainp>
		    <uparallel>
		        <sequential>
		             <vdl:setfieldvalue _traceline="4">
		                 <variable>N</variable>
		                 <variable>swift#int#15</variable>
		             </vdl:setfieldvalue>
		             <partialCloseDataset var="{N}"/>
		        </sequential>
		        <sequential>
		             <vdl:setfieldvalue _traceline="7">
		                 <vdl:getfieldsubscript>
		                   <argument name="var"><variable>tree_results</variable></argument>
		                   <argument name="subscript"><variable>swift#int#0</variable></argument>
		                 </vdl:getfieldsubscript>
		                 	<sequential>
		                 		<set name="swift#rangeout">
		                 			<vdl:range>
		                 				<argument name="from"><variable>swift#int#0</variable></argument>
		                 				<argument name="to"><variable>N</variable></argument>
		                 				<argument name="step"><variable>swift#int#1</variable></argument>			</vdl:range>
		                 		</set>
		                 		 
		                 		<variable>swift#rangeout</variable>
		                 	</sequential> 
		             </vdl:setfieldvalue>
		             <partialCloseDataset var="{tree_results}"/>
		        </sequential>
		        <sequential>
		             <vdl:setfieldvalue _traceline="20">
		                 <variable>depth</variable>
		                 <variable>swift#int#0</variable>
		             </vdl:setfieldvalue>
		             <partialCloseDataset var="{depth}"/>
		        </sequential>
		        <sequential>
		          <sequential>
		          <unitStart name="tracef" type="INTERNALPROC" outputs=""/>
		           
		          <tracef _traceline="20">
		              <variable>swift#string#17000</variable>
		              <variable>depth</variable>
		          </tracef>
		          <unitEnd name="tracef" type="INTERNALPROC"/>
		          </sequential>
		        </sequential>
		        <sequential>
		          <vdl:tparallelFor name="$"_kvar="i" _vvar="v" refs="tree_results 1">
		          	<getarrayiterator>
		          		<vdl:getfieldsubscript>
		          		  <argument name="var"><variable>tree_results</variable></argument>
		          		  <argument name="subscript"><variable>depth</variable></argument>
		          		</vdl:getfieldsubscript>
		          	</getarrayiterator>
		          	<set names="$$, v">
		          		<each items="{$}"/>
		          	</set>
		          	<set name="i">
		          		<vdl:new type="int" value="{$$}"/>
		          	</set>
		          	<unitStart line="21" type="FOREACH_IT"/>
		          	<sequentialWithID>
		          	    <sequential>
		          	      <if >
		          	      	<vdl:getfieldvalue><vdlop:eq>
		          	        <vdlop:remainder>
		          	          <variable>i</variable>
		          	          <variable>swift#int#2</variable>
		          	        </vdlop:remainder>
		          	        <variable>swift#int#0</variable>
		          	      </vdlop:eq></vdl:getfieldvalue>
		          	      	<then>
		          	      		<unitStart type="CONDITION_BLOCK"/>

		          	      		<sequentialWithID>
		          	      		    <sequential>
		          	      		      <combine _traceline="24">
		          	      		          <vdl:getfieldsubscript>
		          	      		            <argument name="var"><vdl:getfieldsubscript>
		          	      		            <argument name="var"><variable>tree_results</variable></argument>
		          	      		            <argument name="subscript"><vdlop:sum>
		          	      		            <variable>depth</variable>
		          	      		            <variable>swift#int#1</variable>
		          	      		          </vdlop:sum></argument>
		          	      		          </vdl:getfieldsubscript></argument>
		          	      		            <argument name="subscript"><vdlop:iquotient>
		          	      		            <variable>i</variable>
		          	      		            <variable>swift#int#2</variable>
		          	      		          </vdlop:iquotient></argument>
		          	      		          </vdl:getfieldsubscript>
		          	      		          <vdl:getfieldsubscript>
		          	      		            <argument name="var"><vdl:getfieldsubscript>
		          	      		            <argument name="var"><variable>tree_results</variable></argument>
		          	      		            <argument name="subscript"><variable>depth</variable></argument>
		          	      		          </vdl:getfieldsubscript></argument>
		          	      		            <argument name="subscript"><variable>i</variable></argument>
		          	      		          </vdl:getfieldsubscript>
		          	      		          <vdl:getfieldsubscript>
		          	      		            <argument name="var"><vdl:getfieldsubscript>
		          	      		            <argument name="var"><variable>tree_results</variable></argument>
		          	      		            <argument name="subscript"><variable>depth</variable></argument>
		          	      		          </vdl:getfieldsubscript></argument>
		          	      		            <argument name="subscript"><vdlop:sum>
		          	      		            <variable>i</variable>
		          	      		            <variable>swift#int#1</variable>
		          	      		          </vdlop:sum></argument>
		          	      		          </vdl:getfieldsubscript>
		          	      		      </combine>
		          	      		      <partialCloseDataset var="{tree_results}"/>
		          	      		    </sequential>
		          	      		</sequentialWithID>

		          	      	</then>
		          	      	<else>
		          	      		<unitStart type="CONDITION_BLOCK"/>
		          	      		<partialCloseDataset var="{tree_results}"/>

		          	      	</else>
		          	      </if>
		          	    </sequential>
		          	</sequentialWithID>
		          	<unitEnd line="21" type="FOREACH_IT"/>
		          </vdl:tparallelFor>
		        </sequential>
		        <sequential>
		             <vdl:setfieldvalue _traceline="33">
		                 <variable>dep</variable>
		                 <variable>swift#int#1</variable>
		             </vdl:setfieldvalue>
		             <partialCloseDataset var="{dep}"/>
		        </sequential>
		        <sequential>
		          <vdl:tparallelFor name="$"_kvar="i" _vvar="v">
		          	<getarrayiterator>
		          		<vdl:getfieldsubscript>
		          		  <argument name="var"><variable>tree_results</variable></argument>
		          		  <argument name="subscript"><variable>dep</variable></argument>
		          		</vdl:getfieldsubscript>
		          	</getarrayiterator>
		          	<set names="$$, v">
		          		<each items="{$}"/>
		          	</set>
		          	<set name="i">
		          		<vdl:new type="int" value="{$$}"/>
		          	</set>
		          	<unitStart line="33" type="FOREACH_IT"/>
		          	<sequentialWithID>
		          	    <sequential>
		          	      <sequential>
		          	      <unitStart name="tracef" type="INTERNALPROC" outputs=""/>
		          	       
		          	      <tracef _traceline="34">
		          	          <variable>swift#string#17001</variable>
		          	          <variable>dep</variable>
		          	          <variable>i</variable>
		          	          <variable>v</variable>
		          	      </tracef>
		          	      <unitEnd name="tracef" type="INTERNALPROC"/>
		          	      </sequential>
		          	    </sequential>
		          	</sequentialWithID>
		          	<unitEnd line="33" type="FOREACH_IT"/>
		          </vdl:tparallelFor>
		        </sequential>
		    </uparallel>
		</vdl:mainp>
		<vdl:stopprogressticker />
	</vdl:mains>
  </restartLog>
  <vdl:cleandataset var="{tree_results}"/>
  <vdl:cleandataset shutdown="true"/>
</project>
